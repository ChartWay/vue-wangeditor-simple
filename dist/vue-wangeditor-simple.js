"use strict";function __$styleInject(A,t){if("undefined"==typeof document)return t;A=A||"";var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");return i.type="text/css",e.appendChild(i),i.styleSheet?i.styleSheet.cssText=A:i.appendChild(document.createTextNode(A)),t}function _interopDefault(A){return A&&"object"==typeof A&&"default"in A?A.default:A}var E=_interopDefault(require("wangeditor"));__$styleInject('@font-face{font-family:w-icon;src:url(data:application/font-woff;charset=utf-8;base64,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) format("woff");font-weight:400;font-style:normal}[class*=" w-icon-"],[class^=w-icon-]{font-family:w-icon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:0;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;font-feature-settings:"liga",normal,"dlig";-webkit-font-variant-ligatures:discretionary-ligatures;font-variant-ligatures:discretionary-ligatures}.w-e-droplist{z-index:4}.w-e-menu{z-index:2!important}.w-e-text-container{z-index:1!important}.w-e-text-container .w-e-text h1{font-size:24px;margin:22px 0;font-weight:700}.w-e-text-container .w-e-text h2{font-size:22px;margin:20px 0;font-weight:700}.w-e-text-container .w-e-text h3{font-size:20px;margin:18px 0;font-weight:700}.w-e-text-container .w-e-text h4{font-size:18px;margin:16px 0;font-weight:700}.w-e-text-container .w-e-text h5{font-size:16px;margin:14px 0;font-weight:700}.w-e-text-container .w-e-text table td,.w-e-text-container .w-e-text table th{text-align:center}.w-e-text-container .w-e-text ul li{list-style-type:disc}.w-e-text-container .w-e-text ol li{list-style-type:decimal}.w-e-text-container .w-e-text b{font-weight:800}.w-e-toolbar{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-lines:multiple}.w-icon-enlarge:before{content:"\\e989"}.w-icon-shrink:before{content:"\\e98a"}.w-icon-filter:before{content:"\\ea5b"}.w-icon-clear-formatting:before{content:"\\ea6f"}.w-icon-file-empty:before{content:"\\e924"}.fullscreen-editor{position:fixed!important;height:100%!important;left:0!important;top:0!important;background-color:#fff;z-index:3}.fullscreen-editor,.fullscreen-editor .w-e-toolbar{width:100%!important}.fullscreen-editor .w-e-text-container{width:100%!important;height:95%!important}',void 0);var fullscreen={methods:{initFullscreen:function(){var A=this,t='<i title="全屏" class="w-icon-enlarge"></i>',e=!1,i=this.createBtn(t);this.toolbar.appendChild(i),i.addEventListener("click",function(n){A.editorEle.className=e?"":"fullscreen-editor",i.innerHTML=e?t:'<i title="全屏" class="w-icon-shrink"></i>',e=!e},!1)}}},clearStyle={methods:{initClearStyle:function(){var A=this,t=this.createBtn('<i title="一键过滤文字样式" class="w-icon-filter"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){var e=A.clearStyle();A.setContent(e),A.editor.txt.html(e)},!1)},clearStyle:function(){return this.editor.txt.html().replace(/ style=\"(.*?)\"/g,"").replace(/ class=\"(.*?)\"/g,"").replace(/<style>[\s\S]*?<\/style>/g,"")}}},clearFormat={methods:{clearFormat:function(){return this.content_.split(/(<[^>]*>([\s\S]*?)|<[^>]*><\/[^>]*>)/).filter(function(A){return""!==A&&!A.includes("</")}).filter(function(A){return!A.includes("<")||A.startsWith("<img")}).map(function(A){return"<p>"+A+"</p>"}).join("")},initClearFormat:function(){var A=this,t=this.createBtn('<i title="一键清除文字格式" class="w-icon-clear-formatting"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){var e=A.clearFormat();A.setContent(e),A.editor.txt.html(e)},!1)}}},clearAll={methods:{initClearAll:function(){var A=this,t=this.createBtn('<i title="一键清空编辑器" class="w-icon-file-empty"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){A.clearAll()},!1)},clearAll:function(){this.editor.txt.clear(),this.setContent("<p><br></p>")}}},VueWangeditor$1={render:function(){var A=this.$createElement;return(this._self._c||A)("div",{attrs:{id:this.id}})},staticRenderFns:[],name:"VueWangeditor",mixins:[fullscreen,clearStyle,clearFormat,clearAll],props:{options:{type:Object,default:function(A){return{}}},id:String,value:String},data:function(){return{isInit:!1,editor:{},content_:"",text:""}},watch:{content_:function(A){this.$emit("input",A),this.text=this.editor.txt.text(),this.$emit("update:text",this.text)},value:function(A){this.isInit||(this.editor.txt.html(A),this.isInit=!0),this.content_=A}},computed:{editorEle:function(){if(document.querySelector("#"+this.id))return document.querySelector("#"+this.id)},toolbar:function(){if(document.querySelector("#"+this.id+" .w-e-toolbar"))return document.querySelector("#"+this.id+" .w-e-toolbar")},container:function(){if(document.querySelector("#"+this.id+" .w-e-text-container"))return document.querySelector("#"+this.id+" .w-e-text-container")}},methods:{setContent:function(A){this.content_=A},createBtn:function(A){var t=document.createElement("div");return t.className="w-e-menu",t.style.zIndex="10001",t.innerHTML=A,t},initSize:function(){this.options.width&&(this.container.style.width=this.options.width,this.toolbar.style.width=this.options.width),this.options.height&&(this.container.style.height=this.options.height)}},mounted:function(){var A=this;this.editor=new E("#"+this.id),this.editor.customConfig.onchange=function(t){A.setContent(t)},Object.keys(this.options).map(function(t){A.editor.customConfig[t]=A.options[t]}),this.editor.create(),this.initSize(),this.options.menus.includes("clearStyle")&&this.initClearStyle(),this.options.menus.includes("clearFormat")&&this.initClearFormat(),this.options.menus.includes("clearAll")&&this.initClearAll(),this.options.menus.includes("fullscreen")&&this.initFullscreen()}};VueWangeditor$1.install=function(A){A.component(VueWangeditor$1.name,VueWangeditor$1)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(VueWangeditor$1),module.exports=VueWangeditor$1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnVlLXdhbmdlZGl0b3Itc2ltcGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcGx1Z2lucy9mdWxsc2NyZWVuLmpzIiwiLi4vc3JjL3BsdWdpbnMvY2xlYXJTdHlsZS5qcyIsIi4uL3NyYy9wbHVnaW5zL2NsZWFyRm9ybWF0LmpzIiwiLi4vc3JjL3BsdWdpbnMvY2xlYXJBbGwuanMiLCIuLi9zcmMvZWRpdG9yLnZ1ZSIsIi4uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZnVsbHNjcmVlbiA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRGdWxsc2NyZWVuICgpIHtcbiAgICAgIGxldCBlbmxhcmdlID0gJzxpIHRpdGxlPVwi5YWo5bGPXCIgY2xhc3M9XCJ3LWljb24tZW5sYXJnZVwiPjwvaT4nXG4gICAgICBsZXQgc2hyaW5rID0gJzxpIHRpdGxlPVwi5YWo5bGPXCIgY2xhc3M9XCJ3LWljb24tc2hyaW5rXCI+PC9pPidcbiAgICAgIGxldCBpc0Z1bGxzY3JlZW4gPSBmYWxzZVxuICAgICAgbGV0IGZ1bGxzY3JlZW5CdG4gPSB0aGlzLmNyZWF0ZUJ0bihlbmxhcmdlKVxuICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGZ1bGxzY3JlZW5CdG4pXG4gICAgICBmdWxsc2NyZWVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgIHRoaXMuZWRpdG9yRWxlLmNsYXNzTmFtZSA9IGlzRnVsbHNjcmVlbiA/ICcnIDogJ2Z1bGxzY3JlZW4tZWRpdG9yJ1xuICAgICAgICBmdWxsc2NyZWVuQnRuLmlubmVySFRNTCA9IGlzRnVsbHNjcmVlbiA/IGVubGFyZ2UgOiBzaHJpbmtcbiAgICAgICAgaXNGdWxsc2NyZWVuID0gIWlzRnVsbHNjcmVlblxuICAgICAgfSwgZmFsc2UpXG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgY2xlYXJTdHlsZSA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRDbGVhclN0eWxlICgpIHtcbiAgICAgIGxldCBjbGVhclN0eWxlQnRuID0gdGhpcy5jcmVhdGVCdG4oJzxpIHRpdGxlPVwi5LiA6ZSu6L+H5ruk5paH5a2X5qC35byPXCIgY2xhc3M9XCJ3LWljb24tZmlsdGVyXCI+PC9pPicpXG4gICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoY2xlYXJTdHlsZUJ0bilcbiAgICAgIGNsZWFyU3R5bGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfID0+IHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLmNsZWFyU3R5bGUoKVxuICAgICAgICB0aGlzLnNldENvbnRlbnQoaHRtbClcbiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwoaHRtbClcbiAgICAgIH0sIGZhbHNlKVxuICAgIH0sXG4gICAgY2xlYXJTdHlsZSAoKSB7XG4gICAgICAvLyBlZGl0b3IudHh0Lmh0bWwoKeiOt+WPlueahOWGheWuueaXoOazlea4hemZpDxzdHlsZT7moIfnrb7nmoTmoLflvI9cbiAgICAgIC8vIOaJgOS7peimgea4hemZpDxzdHlsZT7moIfnrb5cbiAgICAgIC8vIGVkaXRvci50eHQuaHRtbCgp5pyJ5pe25YCZ6I635Y+W55qESFRNTOS8muW4puagt+W8j++8jOaJgOS7pei/mOaYr+WGjei/h+a7pOS4gOasoVxuICAgICAgbGV0IHN0eWxlVGFnUmVnID0gLzxzdHlsZT5bXFxzXFxTXSo/PFxcL3N0eWxlPi9nXG4gICAgICBsZXQgc3R5bGVSZWcgPSAvIHN0eWxlPVxcXCIoLio/KVxcXCIvZ1xuICAgICAgbGV0IGNsYXNzUmVnID0gLyBjbGFzcz1cXFwiKC4qPylcXFwiL2dcbiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZWRpdG9yLnR4dC5odG1sKCkpXG4gICAgICByZXR1cm4gdGhpcy5lZGl0b3IudHh0Lmh0bWwoKS5yZXBsYWNlKHN0eWxlUmVnLCAnJykucmVwbGFjZShjbGFzc1JlZywgJycpLnJlcGxhY2Uoc3R5bGVUYWdSZWcsICcnKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNsZWFyRm9ybWF0ID0ge1xuICBtZXRob2RzOiB7XG4gICAgY2xlYXJGb3JtYXQgKCkge1xuICAgICAgbGV0IHN0ciA9IHRoaXMuY29udGVudF9cbiAgICAgIGxldCBhcnIgPSBzdHIuc3BsaXQoLyg8W14+XSo+KFtcXHNcXFNdKj8pfDxbXj5dKj48XFwvW14+XSo+KS8pXG5cbiAgICAgIC8vIOWOu+mZpOepuuWtl+espuS4su+8jOe7k+adn+agh+etvlxuICAgICAgbGV0IG5ld0NvbnRlbnQgPSBhcnIuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgIWl0ZW0uaW5jbHVkZXMoJzwvJylcbiAgICAgIH0pLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgLy8g5Y675o6J6LW35aeL5qCH562+XG4gICAgICAgIHJldHVybiAhaXRlbS5pbmNsdWRlcygnPCcpIHx8IGl0ZW0uc3RhcnRzV2l0aCgnPGltZycpXG4gICAgICB9KS5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiBgPHA+JHtpdGVtfTwvcD5gXG4gICAgICB9KS5qb2luKCcnKVxuICAgICAgLy8gY29uc29sZS5sb2cobmV3Q29udGVudClcbiAgICAgIHJldHVybiBuZXdDb250ZW50XG4gICAgfSxcbiAgICBpbml0Q2xlYXJGb3JtYXQgKCkge1xuICAgICAgbGV0IGNsZWFyRm9ybWF0QnRuID0gdGhpcy5jcmVhdGVCdG4oJzxpIHRpdGxlPVwi5LiA6ZSu5riF6Zmk5paH5a2X5qC85byPXCIgY2xhc3M9XCJ3LWljb24tY2xlYXItZm9ybWF0dGluZ1wiPjwvaT4nKVxuICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGNsZWFyRm9ybWF0QnRuKVxuICAgICAgY2xlYXJGb3JtYXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfID0+IHtcbiAgICAgICAgbGV0IGZvcm1hdENvbnRlbnQgPSB0aGlzLmNsZWFyRm9ybWF0KClcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KGZvcm1hdENvbnRlbnQpXG4gICAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKGZvcm1hdENvbnRlbnQpXG4gICAgICB9LCBmYWxzZSlcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBjbGVhckFsbCA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRDbGVhckFsbCAoKSB7XG4gICAgICBsZXQgY2xlYXJBbGxCdG4gPSB0aGlzLmNyZWF0ZUJ0bignPGkgdGl0bGU9XCLkuIDplK7muIXnqbrnvJbovpHlmahcIiBjbGFzcz1cInctaWNvbi1maWxlLWVtcHR5XCI+PC9pPicpXG4gICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoY2xlYXJBbGxCdG4pXG4gICAgICBjbGVhckFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8gPT4ge1xuICAgICAgICB0aGlzLmNsZWFyQWxsKClcbiAgICAgIH0sIGZhbHNlKVxuICAgIH0sXG4gICAgY2xlYXJBbGwgKCkge1xuICAgICAgdGhpcy5lZGl0b3IudHh0LmNsZWFyKClcbiAgICAgIHRoaXMuc2V0Q29udGVudCgnPHA+PGJyPjwvcD4nKVxuICAgIH1cbiAgfVxufVxuIiwiPHRlbXBsYXRlIGxhbmc9XCJodG1sXCI+XG4gIDxkaXYgOmlkPVwiaWRcIj48L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJ1xuaW1wb3J0ICcuL2VkaXRvci5jc3MnXG5pbXBvcnQgeyBmdWxsc2NyZWVuIH0gZnJvbSAnLi9wbHVnaW5zL2Z1bGxzY3JlZW4nXG5pbXBvcnQgeyBjbGVhclN0eWxlIH0gZnJvbSAnLi9wbHVnaW5zL2NsZWFyU3R5bGUnXG5pbXBvcnQgeyBjbGVhckZvcm1hdCB9IGZyb20gJy4vcGx1Z2lucy9jbGVhckZvcm1hdCdcbmltcG9ydCB7IGNsZWFyQWxsIH0gZnJvbSAnLi9wbHVnaW5zL2NsZWFyQWxsJ1xuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnVnVlV2FuZ2VkaXRvcicsXG4gIG1peGluczogW2Z1bGxzY3JlZW4sIGNsZWFyU3R5bGUsIGNsZWFyRm9ybWF0LCBjbGVhckFsbF0sXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogIF8gPT4geyByZXR1cm4ge30gfVxuICAgIH0sXG4gICAgaWQ6IFN0cmluZyxcbiAgICB2YWx1ZTogU3RyaW5nXG4gIH0sXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0luaXQ6IGZhbHNlLFxuICAgICAgZWRpdG9yOiB7fSxcbiAgICAgIGNvbnRlbnRfOiAnJyxcbiAgICAgIHRleHQ6ICcnXG4gICAgfVxuICB9LFxuICB3YXRjaDoge1xuICAgIGNvbnRlbnRfICh2YWwpIHtcbiAgICAgIC8vIHJldHVybiB0aGUgY29udGVudCB0byBwYXJlbnQgY29tcG9uZW50XG4gICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbClcbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuZWRpdG9yLnR4dC50ZXh0KClcbiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp0ZXh0JywgdGhpcy50ZXh0KVxuICAgIH0sXG4gICAgdmFsdWUgKHZhbCkge1xuICAgICAgaWYgKCF0aGlzLmlzSW5pdCkge1xuICAgICAgICAvLyBpbml0IGNvbnRlbnRfXG4gICAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHZhbClcbiAgICAgICAgdGhpcy5pc0luaXQgPSB0cnVlXG4gICAgICB9XG4gICAgICB0aGlzLmNvbnRlbnRfID0gdmFsXG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGVkaXRvckVsZSAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH1gKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH1gKVxuICAgICAgfVxuICAgIH0sXG4gICAgdG9vbGJhciAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10b29sYmFyYCkpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuaWR9IC53LWUtdG9vbGJhcmApXG4gICAgICB9XG4gICAgfSxcbiAgICBjb250YWluZXIgKCkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuaWR9IC53LWUtdGV4dC1jb250YWluZXJgKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10ZXh0LWNvbnRhaW5lcmApXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0Q29udGVudCAoaHRtbCkge1xuICAgICAgdGhpcy5jb250ZW50XyA9IGh0bWxcbiAgICB9LFxuICAgIGNyZWF0ZUJ0biAoYnRuSHRtbCkge1xuICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICBidG4uY2xhc3NOYW1lID0gJ3ctZS1tZW51J1xuICAgICAgYnRuLnN0eWxlLnpJbmRleCA9ICcxMDAwMSdcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBidG5IdG1sXG4gICAgICByZXR1cm4gYnRuXG4gICAgfSxcbiAgICBpbml0U2l6ZSAoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoXG4gICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS53aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBuZXcgRSgnIycgKyB0aGlzLmlkKVxuXG4gICAgLy8gaW5pdCBjaGFuZ2UgZXZlbnRcbiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcub25jaGFuZ2UgPSBodG1sID0+IHtcbiAgICAgIHRoaXMuc2V0Q29udGVudChodG1sKVxuICAgIH1cblxuICAgIC8vIGluaXQgcHJvcHMgb3B0aW9uc1xuICAgIE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucykubWFwKHByb3BlcnR5ID0+IHtcbiAgICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZ1twcm9wZXJ0eV0gPSB0aGlzLm9wdGlvbnNbcHJvcGVydHldXG4gICAgfSlcblxuICAgIC8vIGNyZWF0ZSB0aGUgZWRpdG9yXG4gICAgdGhpcy5lZGl0b3IuY3JlYXRlKClcblxuICAgIHRoaXMuaW5pdFNpemUoKVxuXG4gICAgLy8gY2xlYXJTdHlsZVxuICAgIGlmICh0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2NsZWFyU3R5bGUnKSkge1xuICAgICAgdGhpcy5pbml0Q2xlYXJTdHlsZSgpXG4gICAgfVxuXG4gICAgLy8gY2xlYXJGb3JtYXRcbiAgICBpZiAodGhpcy5vcHRpb25zLm1lbnVzLmluY2x1ZGVzKCdjbGVhckZvcm1hdCcpKSB7XG4gICAgICB0aGlzLmluaXRDbGVhckZvcm1hdCgpXG4gICAgfVxuXG4gICAgLy8gY2xlYXJBbGxcbiAgICBpZiAodGhpcy5vcHRpb25zLm1lbnVzLmluY2x1ZGVzKCdjbGVhckFsbCcpKSB7XG4gICAgICB0aGlzLmluaXRDbGVhckFsbCgpXG4gICAgfVxuXG4gICAgLy8gZnVsbHNjcmVlblxuICAgIGlmICh0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2Z1bGxzY3JlZW4nKSkge1xuICAgICAgdGhpcy5pbml0RnVsbHNjcmVlbigpXG4gICAgfVxuXG4gIH1cbn1cbjwvc2NyaXB0PlxuIiwiaW1wb3J0IFZ1ZVdhbmdlZGl0b3IgZnJvbSAnLi9lZGl0b3IudnVlJ1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuVnVlV2FuZ2VkaXRvci5pbnN0YWxsID0gZnVuY3Rpb24gKFZ1ZSkge1xuICBWdWUuY29tcG9uZW50KFZ1ZVdhbmdlZGl0b3IubmFtZSwgVnVlV2FuZ2VkaXRvcilcbn1cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVnVlKSB7XG4gIHdpbmRvdy5WdWUudXNlKFZ1ZVdhbmdlZGl0b3IpXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZVdhbmdlZGl0b3JcbiJdLCJuYW1lcyI6WyJlbmxhcmdlIiwiaXNGdWxsc2NyZWVuIiwiZnVsbHNjcmVlbkJ0biIsInRoaXMiLCJjcmVhdGVCdG4iLCJ0b29sYmFyIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZWRpdG9yRWxlIiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwiY2xlYXJTdHlsZSIsImNsZWFyU3R5bGVCdG4iLCJodG1sIiwiX3RoaXMiLCJzZXRDb250ZW50IiwiZWRpdG9yIiwidHh0IiwicmVwbGFjZSIsImNsZWFyRm9ybWF0IiwiY29udGVudF8iLCJzcGxpdCIsImZpbHRlciIsIml0ZW0iLCJpbmNsdWRlcyIsInN0YXJ0c1dpdGgiLCJtYXAiLCJqb2luIiwiY2xlYXJGb3JtYXRCdG4iLCJmb3JtYXRDb250ZW50IiwiY2xlYXJBbGwiLCJjbGVhckFsbEJ0biIsImNsZWFyIiwicmVuZGVyIiwiZnVsbHNjcmVlbiIsIk9iamVjdCIsIlN0cmluZyIsInZhbCIsIiRlbWl0IiwidGV4dCIsImlzSW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiYnRuSHRtbCIsImJ0biIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInpJbmRleCIsIm9wdGlvbnMiLCJ3aWR0aCIsImNvbnRhaW5lciIsImhlaWdodCIsIkUiLCJjdXN0b21Db25maWciLCJvbmNoYW5nZSIsImtleXMiLCJwcm9wZXJ0eSIsImNyZWF0ZSIsImluaXRTaXplIiwibWVudXMiLCJpbml0Q2xlYXJTdHlsZSIsImluaXRDbGVhckZvcm1hdCIsImluaXRDbGVhckFsbCIsImluaXRGdWxsc2NyZWVuIiwiVnVlV2FuZ2VkaXRvciIsImluc3RhbGwiLCJWdWUiLCJjb21wb25lbnQiLCJuYW1lIiwid2luZG93IiwidXNlIl0sIm1hcHBpbmdzIjoib3VNQUdVQSxFQUFVLDRDQUVWQyxHQUFlLEVBQ2ZDLEVBQWdCQyxLQUFLQyxVQUFVSixRQUM5QkssUUFBUUMsWUFBWUosS0FDWEssaUJBQWlCLFFBQVMsY0FDakNDLFVBQVVDLFVBQVlSLEVBQWUsR0FBSyxzQkFDakNTLFVBQVlULEVBQWVELEVBTjlCLDhDQU9LQyxJQUNmLE1DWklVLDBEQUdIQyxFQUFnQlQsS0FBS0MsVUFBVSx1REFDOUJDLFFBQVFDLFlBQVlNLEtBQ1hMLGlCQUFpQixRQUFTLGdCQUNsQ00sRUFBT0MsRUFBS0gsZUFDWEksV0FBV0YsS0FDWEcsT0FBT0MsSUFBSUosS0FBS0EsS0FDcEIsaUNBVUlWLEtBQUthLE9BQU9DLElBQUlKLE9BQU9LLFFBSGYsb0JBR2lDLElBQUlBLFFBRnJDLG9CQUV1RCxJQUFJQSxRQUp4RCw0QkFJNkUsT0NuQnhGQyxvREFHR2hCLEtBQUtpQixTQUNEQyxNQUFNLHdDQUdDQyxPQUFPLGtCQUNWLEtBQVRDLElBQWdCQSxFQUFLQyxTQUFTLFFBQ3BDRixPQUFPLG1CQUVBQyxFQUFLQyxTQUFTLE1BQVFELEVBQUtFLFdBQVcsVUFDN0NDLElBQUksd0JBQ1FILFdBQ1pJLEtBQUssMkNBS0pDLEVBQWlCekIsS0FBS0MsVUFBVSxpRUFDL0JDLFFBQVFDLFlBQVlzQixLQUNWckIsaUJBQWlCLFFBQVMsZ0JBQ25Dc0IsRUFBZ0JmLEVBQUtLLGdCQUNwQkosV0FBV2MsS0FDWGIsT0FBT0MsSUFBSUosS0FBS2dCLEtBQ3BCLE1DekJJQyxzREFHSEMsRUFBYzVCLEtBQUtDLFVBQVUsMERBQzVCQyxRQUFRQyxZQUFZeUIsS0FDYnhCLGlCQUFpQixRQUFTLGNBQy9CdUIsYUFDSiw2QkFHRWQsT0FBT0MsSUFBSWUsYUFDWGpCLFdBQVcsbUNDQU5rQiwwSEFDUix3QkFDR0MsV0FBWXZCLFdBQVlRLFlBQWFXLCtCQUdwQ0ssZUFDSSwwQkFFUkMsYUFDR0EsdUNBSUcscUJBRUUsUUFDSiw4QkFJRUMsUUFFSEMsTUFBTSxRQUFTRCxRQUNmRSxLQUFPcEMsS0FBS2EsT0FBT0MsSUFBSXNCLFlBQ3ZCRCxNQUFNLGNBQWVuQyxLQUFLb0Msc0JBRTFCRixHQUNBbEMsS0FBS3FDLGNBRUh4QixPQUFPQyxJQUFJSixLQUFLd0IsUUFDaEJHLFFBQVMsUUFFWHBCLFNBQVdpQixzQ0FLWkksU0FBU0Msa0JBQWtCdkMsS0FBS3dDLFdBQzNCRixTQUFTQyxrQkFBa0J2QyxLQUFLd0MsMkJBSXJDRixTQUFTQyxrQkFBa0J2QyxLQUFLd0MsMkJBQzNCRixTQUFTQyxrQkFBa0J2QyxLQUFLd0MsNkNBSXJDRixTQUFTQyxrQkFBa0J2QyxLQUFLd0Msa0NBQzNCRixTQUFTQyxrQkFBa0J2QyxLQUFLd0MsMERBSy9COUIsUUFDTE8sU0FBV1Asc0JBRVArQixPQUNMQyxFQUFNSixTQUFTSyxjQUFjLGdCQUM3QnJDLFVBQVksYUFDWnNDLE1BQU1DLE9BQVMsVUFDZnRDLFVBQVlrQyxFQUNUQyx1QkFHSDFDLEtBQUs4QyxRQUFRQyxhQUNWQyxVQUFVSixNQUFNRyxNQUFRL0MsS0FBSzhDLFFBQVFDLFdBQ3JDN0MsUUFBUTBDLE1BQU1HLE1BQVEvQyxLQUFLOEMsUUFBUUMsT0FFdEMvQyxLQUFLOEMsUUFBUUcsY0FDVkQsVUFBVUosTUFBTUssT0FBU2pELEtBQUs4QyxRQUFRRyw2Q0FLMUNwQyxPQUFTLElBQUlxQyxFQUFFLElBQU1sRCxLQUFLd0MsU0FHMUIzQixPQUFPc0MsYUFBYUMsU0FBVyxjQUM3QnhDLFdBQVdGLFdBSVgyQyxLQUFLckQsS0FBSzhDLFNBQVN2QixJQUFJLGNBQ3ZCVixPQUFPc0MsYUFBYUcsR0FBWTNDLEVBQUttQyxRQUFRUSxVQUkvQ3pDLE9BQU8wQyxjQUVQQyxXQUdEeEQsS0FBSzhDLFFBQVFXLE1BQU1wQyxTQUFTLG9CQUN6QnFDLGlCQUlIMUQsS0FBSzhDLFFBQVFXLE1BQU1wQyxTQUFTLHFCQUN6QnNDLGtCQUlIM0QsS0FBSzhDLFFBQVFXLE1BQU1wQyxTQUFTLGtCQUN6QnVDLGVBSUg1RCxLQUFLOEMsUUFBUVcsTUFBTXBDLFNBQVMsb0JBQ3pCd0MsbUJDcEhYQyxnQkFBY0MsUUFBVSxTQUFVQyxLQUM1QkMsVUFBVUgsZ0JBQWNJLEtBQU1KLGtCQUVkLG9CQUFYSyxRQUEwQkEsT0FBT0gsWUFDbkNBLElBQUlJLElBQUlOIn0=
