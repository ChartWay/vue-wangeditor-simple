!function(A,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("wangeditor")):"function"==typeof define&&define.amd?define(["wangeditor"],e):A.main=e(A.wangeditor)}(this,function(A){"use strict";A=A&&A.hasOwnProperty("default")?A.default:A,function(A,e){void 0===e&&(e={});var t=e.insertAt;if(A&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=A:i.appendChild(document.createTextNode(A))}}('@font-face{font-family:w-icon;src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA1EAAwAAAAADPQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABHAAAAYAAAAGA4Zbj9k9TLzIAAAKcAAAAYAAAAGAPEgdsY21hcAAAAvwAAADEAAAAxL7TwtlnYXNwAAADwAAAAAgAAAAIAAAAEGdseWYAAAPIAAAGeAAABnjO8r8caGVhZAAACkAAAAA2AAAANhCeVXdoaGVhAAAKeAAAACQAAAAkB8ID5mhtdHgAAAqcAAAAlAAAAJQiAABCbG9jYQAACzAAAABMAAAATBDoElhtYXhwAAALfAAAACAAAAAgACsAVm5hbWUAAAucAAABhgAAAYaZSgn7cG9zdAAADSQAAAAgAAAAIAADAAAAAQAAAAoAHgAsAAFsYXRuAAgABAAAAAAAAAABAAAAAWxpZ2EACAAAAAEAAAABAAQABAAAAAEACgAAAAEAFAAHACYAkAC0APwBDgEkATwAAQAHAAkACwAMABcAGAAaACQABQAMABgAKAA6AFwAIAAFABYAFAAXABcAIwAHABQAEwAXABQAEQALAB8ACAAUABEAEQAIABUAFwALACIAEAARAAsACAAWAAQADAAUABYAEgAIABgAGAAPABMADQAgAAYACAATAAkACwARAAIABgAUAB4ABgAbABUACAATAAoAHgAHABMAEQAIABYADQALAAQACgAYACYAMgAhAAYAGQATABMACwARACEABgAPABEAGAALABYAHQAFAA8AEQALAAYAHQAKAA8AEQALAAQACwASABUAGAAcAAEABAAfAAYADgAWAA8AEwAQAAEABAAjAAgACwAWABIADwATAAgAEQABAAQAIgAJABwAFwAPABoAHAANAAUABwABAAQAIwACACQAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADqggPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAqAAAACYAIAAEAAYAAQAgAC0AMQAzADcAYQBpAHAAdQB56STpiuoP6lvqb+qC//3//wAAAAAAIAAtADEAMwA3AGEAYwBrAHIAd+kk6YnqD+pb6m/qgf/9//8AAf/j/9f/1P/T/9D/p/+m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) format("woff");font-weight:400;font-style:normal}[class*=" w-icon-"],[class^=w-icon-]{font-family:w-icon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:0;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;font-feature-settings:"liga",normal,"dlig";-webkit-font-variant-ligatures:discretionary-ligatures;font-variant-ligatures:discretionary-ligatures}.w-e-droplist{z-index:5}.w-e-menu{z-index:2!important}.w-e-text-container{z-index:1!important}.w-e-text-container .w-e-text h1{font-size:24px;margin:22px 0;font-weight:700}.w-e-text-container .w-e-text h2{font-size:22px;margin:20px 0;font-weight:700}.w-e-text-container .w-e-text h3{font-size:20px;margin:18px 0;font-weight:700}.w-e-text-container .w-e-text h4{font-size:18px;margin:16px 0;font-weight:700}.w-e-text-container .w-e-text h5{font-size:16px;margin:14px 0;font-weight:700}.w-e-text-container .w-e-text table td,.w-e-text-container .w-e-text table th{text-align:center}.w-e-text-container .w-e-text ul li{list-style-type:disc}.w-e-text-container .w-e-text ol li{list-style-type:decimal}.w-e-text-container .w-e-text b{font-weight:800}.w-e-text-container .w-e-text a{color:#2196f3;text-decoration:underline}.w-e-toolbar{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-lines:multiple}.w-icon-enlarge:before{content:"\\e989"}.w-icon-shrink:before{content:"\\e98a"}.w-icon-filter:before{content:"\\ea5b"}.w-icon-clear-formatting:before{content:"\\ea6f"}.w-icon-file-empty:before{content:"\\e924"}.w-icon-file-class-code:before{content:"\\ea81"}.fullscreen-editor{position:fixed!important;height:100%!important;left:0!important;top:0!important;background-color:#fff;z-index:3}.fullscreen-editor,.fullscreen-editor .w-e-toolbar{width:100%!important}.fullscreen-editor .w-e-text-container{width:100%!important;height:95%!important}.code_pannel{position:absolute;top:0;left:50%;z-index:4;height:280px;width:600px;padding:5px 10px;margin-left:-300px;background:#fff;-webkit-box-shadow:1px 1px 8px rgba(0,0,0,.3);box-shadow:1px 1px 8px rgba(0,0,0,.3);display:none;overflow:hidden}.code_pannel #closePannel{position:absolute;top:10px;right:10px;width:15px;height:15px;color:#999;cursor:pointer}.code_pannel #closePannel:hover{color:#000}.code_pannel>h2{color:#333;border-bottom:1px solid #f1f1f1}.code_pannel #pannelInput,.code_pannel>h2{width:100%;height:30px;font-size:14px;line-height:30px}.code_pannel #pannelInput{margin-top:5px;padding:0 10px;border:0;border-bottom:1px solid #f1f1f1;background:#fff;outline:0}.code_pannel #pannelTextarea{width:100%;height:145px;margin-top:10px;padding:5px;border:1px solid #f1f1f1;background:#fff;outline:0;font-size:14px;line-height:20px}.code_pannel #pannelInput:focus,.code_pannel #pannelTextarea:focus{border-color:#1e88e5}.code_pannel #pannelSubmit{float:right;font-size:14px;color:#1e88e5;border:0;padding:5px 10px;background:#fff;cursor:pointer;border-radius:3px;margin:5px 0}.code_pannel #pannelSubmit:hover{background:#f1f1f1}',{});var e={render:function(){var A=this.$createElement;return(this._self._c||A)("div",{attrs:{id:this.id}})},staticRenderFns:[],name:"VueWangeditor",mixins:[{methods:{initFullscreen:function(){var e=this,t='<i title="全屏" class="w-icon-enlarge"></i>',n=!1,i=this.createBtn(t);this.toolbar.appendChild(i),i.addEventListener("click",function(A){e.editorEle.className=n?"":"fullscreen-editor",i.innerHTML=n?t:'<i title="全屏" class="w-icon-shrink"></i>',n=!n},!1)}}},{methods:{initClearStyle:function(){var t=this,A=this.createBtn('<i title="一键过滤文字样式" class="w-icon-filter"></i>');this.toolbar.appendChild(A),A.addEventListener("click",function(A){var e=t.clearStyle();t.editor.cmd.do("insertHTML",e),t.editor.txt.html(e)},!1)},clearStyle:function(){var A=this.textWrap.getElementsByTagName("*");return Array.from(A).map(function(A){A.style&&A.removeAttribute("style"),A.className&&A.removeAttribute("class")}),this.editor.txt.html().replace(/ style=\"(.*?)\"/gi,"").replace(/ style=\'(.*?)\'/gi,"").replace(/ class=\"(.*?)\"/gi,"").replace(/ class=\'(.*?)\'/gi,"").replace(/ lang=\"(.*?)\"/gi,"").replace(/ face=\"(.*?)\"/gi,"").replace(/ size=\"(.*?)\"/gi,"").replace(/ align=\"(.*?)\"/gi,"").replace(/ color=\"(.*?)\"/gi,"").replace(/ border=\"(.*?)\"/gi,"").replace(/<style>[\s\S]*?<\/style>/gi,"").replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/<!--[\s\S]*?-->/gi,"")}}},{methods:{clearFormat:function(){return this.editor.txt.html().split(/(<[^>]*>([\s\S]*?)|<[^>]*><\/[^>]*>)/).filter(function(A){return""!==A&&!A.includes("</")}).filter(function(A){return!A.includes("<")||A.startsWith("<img")}).map(function(A){return"<p>"+A+"</p>"}).join("")},initClearFormat:function(){var t=this,A=this.createBtn('<i title="一键清除文字格式" class="w-icon-clear-formatting"></i>');this.toolbar.appendChild(A),A.addEventListener("click",function(A){var e=t.clearFormat();t.$emit("input",e),t.editor.txt.html(e)},!1)}}},{methods:{initClearAll:function(){var e=this,A=this.createBtn('<i title="一键清空编辑器" class="w-icon-file-empty"></i>');this.toolbar.appendChild(A),A.addEventListener("click",function(A){e.clearAll()},!1)},clearAll:function(){this.editor.txt.clear(),this.editor.cmd.do("insertHTML","<p><br></p>")}}},{methods:{initInsertCode:function(){var t=this,A=this.createBtn('<i title="插入带类名的代码块" class="w-icon-file-class-code"></i>');this.toolbar.appendChild(A),A.addEventListener("click",function(A){A.stopPropagation(),A.preventDefault();var e=document.querySelector("#codePannel");e?e.style.display="block":t.createPannel(),t.bindEvents()},!1)},bindEvents:function(){var e=this,t=document.querySelector("#codePannel"),A=document.querySelector("#closePannel"),n=document.querySelector("#pannelInput"),i=document.querySelector("#pannelTextarea"),o=document.querySelector("#pannelSubmit");A.addEventListener("click",function(A){A.stopPropagation(),t.style.display="none",n.value="",i.value=""},!1),o.addEventListener("click",function(A){A.stopPropagation(),n.value&&i.value&&e.insertCode(n.value,i.value),t.style.display="none",n.value="",i.value=""},!1)},createPannel:function(){var A=document.createElement("div"),e=document.createElement("i"),t=document.createElement("h2"),n=document.createElement("input"),i=document.createElement("textarea"),o=document.createElement("button");A.id="codePannel",e.id="closePannel",n.id="pannelInput",i.id="pannelTextarea",n.setAttribute("placeholder","className"),i.setAttribute("placeholder","code"),o.id="pannelSubmit",o.innerText="插入",t.innerText="插入带类名的代码：",e.className="w-e-icon-close w-e-panel-close",A.appendChild(e),A.appendChild(t),A.appendChild(n),A.appendChild(i),A.appendChild(o),A.className="code_pannel",this.container.appendChild(A),A.style.display="block"},replaceHtmlSymbol:function(A){return null==A?"":A.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},insertCode:function(A,e){this.editor.cmd.do("insertHTML",'<pre class="'+A+'"><code class="'+A+'">'+this.replaceHtmlSymbol(e)+"</code></pre><p><br></p>")}}}],props:{options:{type:Object,default:function(A){return{}}},id:String,initContent:String,value:String,disabled:Boolean},data:function(){return{editor:{}}},watch:{initContent:function(A){this.editor.txt.html(A),this.$emit("input",A),this.$emit("update:text",this.editor.txt.text())},disabled:function(A){this.editor.$textElem.attr("contenteditable",!A)}},computed:{editorEle:function(){if(document.querySelector("#"+this.id))return document.querySelector("#"+this.id)},toolbar:function(){if(document.querySelector("#"+this.id+" .w-e-toolbar"))return document.querySelector("#"+this.id+" .w-e-toolbar")},container:function(){if(document.querySelector("#"+this.id+" .w-e-text-container"))return document.querySelector("#"+this.id+" .w-e-text-container")},textWrap:function(){if(document.querySelector("#"+this.id+" .w-e-text"))return document.querySelector("#"+this.id+" .w-e-text")}},methods:{createBtn:function(A){var e=document.createElement("div");return e.className="w-e-menu",e.style.zIndex="10001",e.innerHTML=A,e},initSize:function(){this.options.width&&(this.container.style.width=this.options.width,this.toolbar.style.width=this.options.width),this.options.height&&(this.container.style.height=this.options.height)}},mounted:function(){var e=this;this.editor=new A("#"+this.id),this.editor.customConfig.onchange=function(A){e.$emit("input",A),e.$emit("update:text",e.editor.txt.text())},Object.keys(this.options).map(function(A){e.editor.customConfig[A]=e.options[A]}),this.editor.create(),this.initSize(),this.options.menus&&this.options.menus.includes("clearStyle")&&this.initClearStyle(),this.options.menus&&this.options.menus.includes("clearFormat")&&this.initClearFormat(),this.options.menus&&this.options.menus.includes("clearAll")&&this.initClearAll(),this.options.menus&&this.options.menus.includes("insertCode")&&this.initInsertCode(),this.options.menus&&this.options.menus.includes("fullscreen")&&this.initFullscreen(),this.editor.$textElem.attr("contenteditable",!this.disabled)},install:function(A){A.component(e.name,e)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(e),e});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnVlLXdhbmdlZGl0b3Itc2ltcGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcGx1Z2lucy9mdWxsc2NyZWVuLmpzIiwiLi4vc3JjL2VkaXRvci52dWUiLCIuLi9zcmMvcGx1Z2lucy9jbGVhclN0eWxlLmpzIiwiLi4vc3JjL3BsdWdpbnMvY2xlYXJGb3JtYXQuanMiLCIuLi9zcmMvcGx1Z2lucy9jbGVhckFsbC5qcyIsIi4uL3NyYy9wbHVnaW5zL2luc2VydENvZGUuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGZ1bGxzY3JlZW4gPSB7XG4gIG1ldGhvZHM6IHtcbiAgICBpbml0RnVsbHNjcmVlbiAoKSB7XG4gICAgICBsZXQgZW5sYXJnZSA9ICc8aSB0aXRsZT1cIuWFqOWxj1wiIGNsYXNzPVwidy1pY29uLWVubGFyZ2VcIj48L2k+J1xuICAgICAgbGV0IHNocmluayA9ICc8aSB0aXRsZT1cIuWFqOWxj1wiIGNsYXNzPVwidy1pY29uLXNocmlua1wiPjwvaT4nXG4gICAgICBsZXQgaXNGdWxsc2NyZWVuID0gZmFsc2VcbiAgICAgIGxldCBmdWxsc2NyZWVuQnRuID0gdGhpcy5jcmVhdGVCdG4oZW5sYXJnZSlcbiAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChmdWxsc2NyZWVuQnRuKVxuICAgICAgZnVsbHNjcmVlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8gPT4ge1xuICAgICAgICB0aGlzLmVkaXRvckVsZS5jbGFzc05hbWUgPSBpc0Z1bGxzY3JlZW4gPyAnJyA6ICdmdWxsc2NyZWVuLWVkaXRvcidcbiAgICAgICAgZnVsbHNjcmVlbkJ0bi5pbm5lckhUTUwgPSBpc0Z1bGxzY3JlZW4gPyBlbmxhcmdlIDogc2hyaW5rXG4gICAgICAgIGlzRnVsbHNjcmVlbiA9ICFpc0Z1bGxzY3JlZW5cbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgfVxufVxuIiwiPHRlbXBsYXRlIGxhbmc9XCJodG1sXCI+XG4gIDxkaXYgOmlkPVwiaWRcIj48L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJ1xuaW1wb3J0ICcuL2VkaXRvci5jc3MnXG5pbXBvcnQgeyBmdWxsc2NyZWVuIH0gZnJvbSAnLi9wbHVnaW5zL2Z1bGxzY3JlZW4nXG5pbXBvcnQgeyBjbGVhclN0eWxlIH0gZnJvbSAnLi9wbHVnaW5zL2NsZWFyU3R5bGUnXG5pbXBvcnQgeyBjbGVhckZvcm1hdCB9IGZyb20gJy4vcGx1Z2lucy9jbGVhckZvcm1hdCdcbmltcG9ydCB7IGNsZWFyQWxsIH0gZnJvbSAnLi9wbHVnaW5zL2NsZWFyQWxsJ1xuaW1wb3J0IHsgaW5zZXJ0Q29kZSB9IGZyb20gJy4vcGx1Z2lucy9pbnNlcnRDb2RlJ1xuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnVnVlV2FuZ2VkaXRvcicsXG4gIG1peGluczogW2Z1bGxzY3JlZW4sIGNsZWFyU3R5bGUsIGNsZWFyRm9ybWF0LCBjbGVhckFsbCwgaW5zZXJ0Q29kZV0sXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogIF8gPT4geyByZXR1cm4ge30gfVxuICAgIH0sXG4gICAgaWQ6IFN0cmluZyxcbiAgICBpbml0Q29udGVudDogU3RyaW5nLFxuICAgIHZhbHVlOiBTdHJpbmcsXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW5cbiAgfSxcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkaXRvcjoge31cbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgaW5pdENvbnRlbnQgKHZhbCkge1xuICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwodmFsKVxuICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dGV4dCcsIHRoaXMuZWRpdG9yLnR4dC50ZXh0KCkpXG4gICAgfSxcbiAgICBkaXNhYmxlZCAodmFsKSB7XG4gICAgICB0aGlzLmVkaXRvci4kdGV4dEVsZW0uYXR0cignY29udGVudGVkaXRhYmxlJywgIXZhbClcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZWRpdG9yRWxlICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfWApKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfWApXG4gICAgICB9XG4gICAgfSxcbiAgICB0b29sYmFyICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRvb2xiYXJgKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10b29sYmFyYClcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRhaW5lciAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10ZXh0LWNvbnRhaW5lcmApKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRleHQtY29udGFpbmVyYClcbiAgICAgIH1cbiAgICB9LFxuICAgIHRleHRXcmFwICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRleHRgKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10ZXh0YClcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBjcmVhdGVCdG4gKGJ0bkh0bWwpIHtcbiAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgYnRuLmNsYXNzTmFtZSA9ICd3LWUtbWVudSdcbiAgICAgIGJ0bi5zdHlsZS56SW5kZXggPSAnMTAwMDEnXG4gICAgICBidG4uaW5uZXJIVE1MID0gYnRuSHRtbFxuICAgICAgcmV0dXJuIGJ0blxuICAgIH0sXG4gICAgaW5pdFNpemUgKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy53aWR0aCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aFxuICAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGhcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHRcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQgKCkge1xuICAgIHRoaXMuZWRpdG9yID0gbmV3IEUoJyMnICsgdGhpcy5pZClcblxuICAgIC8vIGluaXQgY2hhbmdlIGV2ZW50XG4gICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm9uY2hhbmdlID0gaHRtbCA9PiB7XG4gICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGh0bWwpXG4gICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dGV4dCcsIHRoaXMuZWRpdG9yLnR4dC50ZXh0KCkpXG4gICAgfVxuXG4gICAgLy8gaW5pdCBwcm9wcyBvcHRpb25zXG4gICAgT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5tYXAocHJvcGVydHkgPT4ge1xuICAgICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnW3Byb3BlcnR5XSA9IHRoaXMub3B0aW9uc1twcm9wZXJ0eV1cbiAgICB9KVxuXG4gICAgLy8gY3JlYXRlIHRoZSBlZGl0b3JcbiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKVxuXG4gICAgdGhpcy5pbml0U2l6ZSgpXG5cbiAgICAvLyBjbGVhclN0eWxlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tZW51cyAmJiB0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2NsZWFyU3R5bGUnKSkge1xuICAgICAgdGhpcy5pbml0Q2xlYXJTdHlsZSgpXG4gICAgfVxuXG4gICAgLy8gY2xlYXJGb3JtYXRcbiAgICBpZiAodGhpcy5vcHRpb25zLm1lbnVzICYmIHRoaXMub3B0aW9ucy5tZW51cy5pbmNsdWRlcygnY2xlYXJGb3JtYXQnKSkge1xuICAgICAgdGhpcy5pbml0Q2xlYXJGb3JtYXQoKVxuICAgIH1cblxuICAgIC8vIGNsZWFyQWxsXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tZW51cyAmJiB0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2NsZWFyQWxsJykpIHtcbiAgICAgIHRoaXMuaW5pdENsZWFyQWxsKClcbiAgICB9XG5cbiAgICAvLyBpbnNlcnRDb2RlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tZW51cyAmJiB0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2luc2VydENvZGUnKSkge1xuICAgICAgdGhpcy5pbml0SW5zZXJ0Q29kZSgpXG4gICAgfVxuXG4gICAgLy8gZnVsbHNjcmVlblxuICAgIGlmICh0aGlzLm9wdGlvbnMubWVudXMgJiYgdGhpcy5vcHRpb25zLm1lbnVzLmluY2x1ZGVzKCdmdWxsc2NyZWVuJykpIHtcbiAgICAgIHRoaXMuaW5pdEZ1bGxzY3JlZW4oKVxuICAgIH1cblxuICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCAhdGhpcy5kaXNhYmxlZClcbiAgfVxufVxuPC9zY3JpcHQ+XG4iLCJleHBvcnQgY29uc3QgY2xlYXJTdHlsZSA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRDbGVhclN0eWxlICgpIHtcbiAgICAgIGxldCBjbGVhclN0eWxlQnRuID0gdGhpcy5jcmVhdGVCdG4oJzxpIHRpdGxlPVwi5LiA6ZSu6L+H5ruk5paH5a2X5qC35byPXCIgY2xhc3M9XCJ3LWljb24tZmlsdGVyXCI+PC9pPicpXG4gICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoY2xlYXJTdHlsZUJ0bilcbiAgICAgIGNsZWFyU3R5bGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfID0+IHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLmNsZWFyU3R5bGUoKVxuICAgICAgICB0aGlzLmVkaXRvci5jbWQuZG8oJ2luc2VydEhUTUwnLCBodG1sKVxuICAgICAgICB0aGlzLmVkaXRvci50eHQuaHRtbChodG1sKVxuICAgICAgfSwgZmFsc2UpXG4gICAgfSxcbiAgICBjbGVhclN0eWxlICgpIHtcbiAgICAgIC8vIGVkaXRvci50eHQuaHRtbCgp6I635Y+W55qE5YaF5a655peg5rOV5riF6ZmkPHN0eWxlPuagh+etvueahOagt+W8j1xuICAgICAgLy8g5omA5Lul6KaB5riF6ZmkPHN0eWxlPuagh+etvlxuICAgICAgLy8gZWRpdG9yLnR4dC5odG1sKCnmnInml7blgJnojrflj5bnmoRIVE1M5Lya5bim5qC35byP77yM5omA5Lul6L+Y5piv5YaN6L+H5ruk5LiA5qyhXG4gICAgICBsZXQgYXJyID0gdGhpcy50ZXh0V3JhcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpXG4gICAgICBBcnJheS5mcm9tKGFycikubWFwKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5zdHlsZSkge1xuICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0uY2xhc3NOYW1lKSB7XG4gICAgICAgICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC8vIOWboOS4uuacieeahHN0eWxl5bGe5oCn5rKh5pyJ6L+H5ruk5Yiw77yM5omA5Lul6KaB55So5LiK6Z2i55qEcmVtb3ZlQXR0cmlidXRl5Y675o6JXG4gICAgICByZXR1cm4gdGhpcy5lZGl0b3IudHh0Lmh0bWwoKS8vIHRleHRXcmFwLmlubmVySFRNTFxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gc3R5bGU9XFxcIiguKj8pXFxcIi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBzdHlsZT1cXCcoLio/KVxcJy9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBjbGFzcz1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvIGNsYXNzPVxcJyguKj8pXFwnL2lnLCAnJylcbiAgICAgICAgICAgICAvLyB3b3Jk5paH5qGj5aSN5Yi26L+H5p2l55qE5qC35byPXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBsYW5nPVxcXCIoLio/KVxcXCIvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gZmFjZT1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvIHNpemU9XFxcIiguKj8pXFxcIi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBhbGlnbj1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvIGNvbG9yPVxcXCIoLio/KVxcXCIvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gYm9yZGVyPVxcXCIoLio/KVxcXCIvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC88c3R5bGU+W1xcc1xcU10qPzxcXC9zdHlsZT4vaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC88bzpwPltcXHNcXFNdKj88XFwvbzpwPi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLzwhLS1bXFxzXFxTXSo/LS0+L2lnLCAnJylcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBjbGVhckZvcm1hdCA9IHtcbiAgbWV0aG9kczoge1xuICAgIGNsZWFyRm9ybWF0ICgpIHtcbiAgICAgIGxldCBzdHIgPSB0aGlzLmVkaXRvci50eHQuaHRtbCgpXG4gICAgICBsZXQgYXJyID0gc3RyLnNwbGl0KC8oPFtePl0qPihbXFxzXFxTXSo/KXw8W14+XSo+PFxcL1tePl0qPikvKVxuXG4gICAgICAvLyDljrvpmaTnqbrlrZfnrKbkuLLvvIznu5PmnZ/moIfnrb5cbiAgICAgIGxldCBuZXdDb250ZW50ID0gYXJyLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmICFpdGVtLmluY2x1ZGVzKCc8LycpXG4gICAgICB9KS5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgIC8vIOWOu+aOiei1t+Wni+agh+etvlxuICAgICAgICByZXR1cm4gIWl0ZW0uaW5jbHVkZXMoJzwnKSB8fCBpdGVtLnN0YXJ0c1dpdGgoJzxpbWcnKVxuICAgICAgfSkubWFwKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gYDxwPiR7aXRlbX08L3A+YFxuICAgICAgfSkuam9pbignJylcbiAgICAgIC8vIGNvbnNvbGUubG9nKG5ld0NvbnRlbnQpXG4gICAgICByZXR1cm4gbmV3Q29udGVudFxuICAgIH0sXG4gICAgaW5pdENsZWFyRm9ybWF0ICgpIHtcbiAgICAgIGxldCBjbGVhckZvcm1hdEJ0biA9IHRoaXMuY3JlYXRlQnRuKCc8aSB0aXRsZT1cIuS4gOmUrua4hemZpOaWh+Wtl+agvOW8j1wiIGNsYXNzPVwidy1pY29uLWNsZWFyLWZvcm1hdHRpbmdcIj48L2k+JylcbiAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjbGVhckZvcm1hdEJ0bilcbiAgICAgIGNsZWFyRm9ybWF0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgIGxldCBmb3JtYXRDb250ZW50ID0gdGhpcy5jbGVhckZvcm1hdCgpXG4gICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZm9ybWF0Q29udGVudClcbiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwoZm9ybWF0Q29udGVudClcbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNsZWFyQWxsID0ge1xuICBtZXRob2RzOiB7XG4gICAgaW5pdENsZWFyQWxsICgpIHtcbiAgICAgIGxldCBjbGVhckFsbEJ0biA9IHRoaXMuY3JlYXRlQnRuKCc8aSB0aXRsZT1cIuS4gOmUrua4heepuue8lui+keWZqFwiIGNsYXNzPVwidy1pY29uLWZpbGUtZW1wdHlcIj48L2k+JylcbiAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjbGVhckFsbEJ0bilcbiAgICAgIGNsZWFyQWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJBbGwoKVxuICAgICAgfSwgZmFsc2UpXG4gICAgfSxcbiAgICBjbGVhckFsbCAoKSB7XG4gICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKVxuICAgICAgdGhpcy5lZGl0b3IuY21kLmRvKCdpbnNlcnRIVE1MJywgJzxwPjxicj48L3A+JylcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBpbnNlcnRDb2RlID0ge1xuICBtZXRob2RzOiB7XG4gICAgaW5pdEluc2VydENvZGUgKCkge1xuICAgICAgbGV0IGluc2VydENvZGVCdG4gPSB0aGlzLmNyZWF0ZUJ0bignPGkgdGl0bGU9XCLmj5LlhaXluKbnsbvlkI3nmoTku6PnoIHlnZdcIiBjbGFzcz1cInctaWNvbi1maWxlLWNsYXNzLWNvZGVcIj48L2k+JylcbiAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChpbnNlcnRDb2RlQnRuKVxuICAgICAgaW5zZXJ0Q29kZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBsZXQgcGFubmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvZGVQYW5uZWwnKVxuICAgICAgICBpZiAoIXBhbm5lbCkge1xuICAgICAgICAgIHRoaXMuY3JlYXRlUGFubmVsKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYW5uZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKVxuICAgICAgfSwgZmFsc2UpXG4gICAgfSxcbiAgICBiaW5kRXZlbnRzICgpIHtcbiAgICAgIGxldCBwYW5uZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29kZVBhbm5lbCcpXG4gICAgICBsZXQgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2VQYW5uZWwnKVxuICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bhbm5lbElucHV0JylcbiAgICAgIGxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYW5uZWxUZXh0YXJlYScpXG4gICAgICBsZXQgc3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bhbm5lbFN1Ym1pdCcpXG4gICAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIHBhbm5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgIGlucHV0LnZhbHVlID0gJydcbiAgICAgICAgdGV4dGFyZWEudmFsdWUgPSAnJ1xuICAgICAgfSwgZmFsc2UpXG4gICAgICBzdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICBpZiAoaW5wdXQudmFsdWUgJiYgdGV4dGFyZWEudmFsdWUpIHtcbiAgICAgICAgICB0aGlzLmluc2VydENvZGUoaW5wdXQudmFsdWUsIHRleHRhcmVhLnZhbHVlKVxuICAgICAgICAgIHBhbm5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgaW5wdXQudmFsdWUgPSAnJ1xuICAgICAgICAgIHRleHRhcmVhLnZhbHVlID0gJydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYW5uZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gJydcbiAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9ICcnXG4gICAgICAgIH1cbiAgICAgIH0sIGZhbHNlKVxuICAgIH0sXG4gICAgY3JlYXRlUGFubmVsICgpIHtcbiAgICAgIGxldCBwYW5uZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgbGV0IGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpXG4gICAgICBsZXQgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpXG4gICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgICBsZXQgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpXG4gICAgICBsZXQgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgIHBhbm5lbC5pZCA9ICdjb2RlUGFubmVsJ1xuICAgICAgY2xvc2UuaWQgPSAnY2xvc2VQYW5uZWwnXG4gICAgICBpbnB1dC5pZCA9ICdwYW5uZWxJbnB1dCdcbiAgICAgIHRleHRhcmVhLmlkID0gJ3Bhbm5lbFRleHRhcmVhJ1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdjbGFzc05hbWUnKVxuICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdjb2RlJylcbiAgICAgIHN1Ym1pdC5pZCA9ICdwYW5uZWxTdWJtaXQnXG4gICAgICBzdWJtaXQuaW5uZXJUZXh0ID0gJ+aPkuWFpSdcbiAgICAgIGgyLmlubmVyVGV4dCA9ICfmj5LlhaXluKbnsbvlkI3nmoTku6PnoIHvvJonXG4gICAgICBjbG9zZS5jbGFzc05hbWUgPSAndy1lLWljb24tY2xvc2Ugdy1lLXBhbmVsLWNsb3NlJ1xuICAgICAgcGFubmVsLmFwcGVuZENoaWxkKGNsb3NlKVxuICAgICAgcGFubmVsLmFwcGVuZENoaWxkKGgyKVxuICAgICAgcGFubmVsLmFwcGVuZENoaWxkKGlucHV0KVxuICAgICAgcGFubmVsLmFwcGVuZENoaWxkKHRleHRhcmVhKVxuICAgICAgcGFubmVsLmFwcGVuZENoaWxkKHN1Ym1pdClcbiAgICAgIHBhbm5lbC5jbGFzc05hbWUgPSAnY29kZV9wYW5uZWwnXG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChwYW5uZWwpXG4gICAgICBwYW5uZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICB9LFxuICAgIHJlcGxhY2VIdG1sU3ltYm9sKGh0bWwpIHtcbiAgICAgIGlmIChodG1sID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88L2dtLCAnJmx0OycpLnJlcGxhY2UoLz4vZ20sICcmZ3Q7JykucmVwbGFjZSgvXCIvZ20sICcmcXVvdDsnKVxuICAgIH0sXG4gICAgaW5zZXJ0Q29kZSAoY2xhc3NOYW1lLCBjb2RlKSB7XG4gICAgICB0aGlzLmVkaXRvci5jbWQuZG8oJ2luc2VydEhUTUwnLCBgPHByZSBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPjxjb2RlIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+JHt0aGlzLnJlcGxhY2VIdG1sU3ltYm9sKGNvZGUpfTwvY29kZT48L3ByZT48cD48YnI+PC9wPmApXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgVnVlV2FuZ2VkaXRvciBmcm9tICcuL2VkaXRvci52dWUnXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5WdWVXYW5nZWRpdG9yLmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlKSB7XG4gIFZ1ZS5jb21wb25lbnQoVnVlV2FuZ2VkaXRvci5uYW1lLCBWdWVXYW5nZWRpdG9yKVxufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcbiAgd2luZG93LlZ1ZS51c2UoVnVlV2FuZ2VkaXRvcilcbn1cblxuZXhwb3J0IGRlZmF1bHQgVnVlV2FuZ2VkaXRvclxuIl0sIm5hbWVzIjpbInJlbmRlciIsImVubGFyZ2UiLCJpc0Z1bGxzY3JlZW4iLCJmdWxsc2NyZWVuQnRuIiwidGhpcyIsImNyZWF0ZUJ0biIsInRvb2xiYXIiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlZGl0b3JFbGUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJjbGVhclN0eWxlQnRuIiwiaHRtbCIsIl90aGlzIiwiY2xlYXJTdHlsZSIsImVkaXRvciIsImNtZCIsImRvIiwidHh0IiwiYXJyIiwidGV4dFdyYXAiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImZyb20iLCJtYXAiLCJpdGVtIiwic3R5bGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXBsYWNlIiwic3BsaXQiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInN0YXJ0c1dpdGgiLCJqb2luIiwiY2xlYXJGb3JtYXRCdG4iLCJmb3JtYXRDb250ZW50IiwiY2xlYXJGb3JtYXQiLCIkZW1pdCIsImNsZWFyQWxsQnRuIiwiY2xlYXJBbGwiLCJjbGVhciIsImluc2VydENvZGVCdG4iLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInBhbm5lbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImRpc3BsYXkiLCJjcmVhdGVQYW5uZWwiLCJiaW5kRXZlbnRzIiwiY2xvc2UiLCJpbnB1dCIsInRleHRhcmVhIiwic3VibWl0IiwidmFsdWUiLCJpbnNlcnRDb2RlIiwiY3JlYXRlRWxlbWVudCIsImgyIiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJjb250YWluZXIiLCJjb2RlIiwicmVwbGFjZUh0bWxTeW1ib2wiLCJPYmplY3QiLCJTdHJpbmciLCJCb29sZWFuIiwidmFsIiwidGV4dCIsIiR0ZXh0RWxlbSIsImF0dHIiLCJidG5IdG1sIiwiYnRuIiwiekluZGV4Iiwib3B0aW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwiRSIsImN1c3RvbUNvbmZpZyIsIm9uY2hhbmdlIiwia2V5cyIsInByb3BlcnR5IiwiY3JlYXRlIiwiaW5pdFNpemUiLCJtZW51cyIsImluaXRDbGVhclN0eWxlIiwiaW5pdENsZWFyRm9ybWF0IiwiaW5pdENsZWFyQWxsIiwiaW5pdEluc2VydENvZGUiLCJpbml0RnVsbHNjcmVlbiIsImRpc2FibGVkIiwiVnVlV2FuZ2VkaXRvciIsIlZ1ZSIsImNvbXBvbmVudCIsIm5hbWUiLCJ3aW5kb3ciLCJ1c2UiXSwibWFwcGluZ3MiOiJrcFFBQU8sTUNZUSxDQUFDQSwwSEFDUix1QkFDRSxDRGRnQixTQUNmLHNDQUVEQyxFQUFVLDRDQUVWQyxHQUFlLEVBQ2ZDLEVBQWdCQyxLQUFLQyxVQUFVSixRQUM5QkssUUFBUUMsWUFBWUosS0FDWEssaUJBQWlCLFFBQVMsY0FDakNDLFVBQVVDLFVBQVlSLEVBQWUsR0FBSyxzQkFDakNTLFVBQVlULEVBQWVELEVBTjlCLDhDQU9LQyxJQUNmLE1FWmlCLFNBQ2Ysc0NBRURVLEVBQWdCUixLQUFLQyxVQUFVLHVEQUM5QkMsUUFBUUMsWUFBWUssS0FDWEosaUJBQWlCLFFBQVMsZ0JBQ2xDSyxFQUFPQyxFQUFLQyxlQUNYQyxPQUFPQyxJQUFJQyxHQUFHLGFBQWNMLEtBQzVCRyxPQUFPRyxJQUFJTixLQUFLQSxLQUNwQiw4QkFNQ08sRUFBTWhCLEtBQUtpQixTQUFTQyxxQkFBcUIsa0JBQ3ZDQyxLQUFLSCxHQUFLSSxJQUFJLFlBQ2RDLEVBQUtDLFNBQ0ZDLGdCQUFnQixTQUVuQkYsRUFBS2YsYUFDRmlCLGdCQUFnQixXQUlsQnZCLEtBQUtZLE9BQU9HLElBQUlOLE9BQ2ZlLFFBQVEscUJBQXNCLElBQzlCQSxRQUFRLHFCQUFzQixJQUM5QkEsUUFBUSxxQkFBc0IsSUFDOUJBLFFBQVEscUJBQXNCLElBRTlCQSxRQUFRLG9CQUFxQixJQUM3QkEsUUFBUSxvQkFBcUIsSUFDN0JBLFFBQVEsb0JBQXFCLElBQzdCQSxRQUFRLHFCQUFzQixJQUM5QkEsUUFBUSxxQkFBc0IsSUFDOUJBLFFBQVEsc0JBQXVCLElBQy9CQSxRQUFRLDZCQUE4QixJQUN0Q0EsUUFBUSx5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
