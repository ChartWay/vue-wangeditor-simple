"use strict";function __$styleInject(A,t){if("undefined"==typeof document)return t;A=A||"";var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");return i.type="text/css",e.appendChild(i),i.styleSheet?i.styleSheet.cssText=A:i.appendChild(document.createTextNode(A)),t}function _interopDefault(A){return A&&"object"==typeof A&&"default"in A?A.default:A}var E=_interopDefault(require("wangeditor"));__$styleInject('@font-face{font-family:w-icon;src:url(data:application/font-woff;charset=utf-8;base64,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) format("woff");font-weight:400;font-style:normal}[class*=" w-icon-"],[class^=w-icon-]{font-family:w-icon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:0;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;font-feature-settings:"liga",normal,"dlig";-webkit-font-variant-ligatures:discretionary-ligatures;font-variant-ligatures:discretionary-ligatures}.w-e-droplist{z-index:4}.w-e-menu{z-index:2!important}.w-e-text-container{z-index:1!important}.w-e-text-container .w-e-text h1{font-size:24px;margin:22px 0;font-weight:700}.w-e-text-container .w-e-text h2{font-size:22px;margin:20px 0;font-weight:700}.w-e-text-container .w-e-text h3{font-size:20px;margin:18px 0;font-weight:700}.w-e-text-container .w-e-text h4{font-size:18px;margin:16px 0;font-weight:700}.w-e-text-container .w-e-text h5{font-size:16px;margin:14px 0;font-weight:700}.w-e-text-container .w-e-text table td,.w-e-text-container .w-e-text table th{text-align:center}.w-e-text-container .w-e-text ul li{list-style-type:disc}.w-e-text-container .w-e-text ol li{list-style-type:decimal}.w-e-text-container .w-e-text b{font-weight:800}.w-e-toolbar{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-lines:multiple}.w-icon-enlarge:before{content:"\\e989"}.w-icon-shrink:before{content:"\\e98a"}.w-icon-filter:before{content:"\\ea5b"}.w-icon-clear-formatting:before{content:"\\ea6f"}.w-icon-file-empty:before{content:"\\e924"}.fullscreen-editor{position:fixed!important;height:100%!important;left:0!important;top:0!important;background-color:#fff;z-index:3}.fullscreen-editor,.fullscreen-editor .w-e-toolbar{width:100%!important}.fullscreen-editor .w-e-text-container{width:100%!important;height:95%!important}',void 0);var fullscreen={methods:{initFullscreen:function(){var A=this,t='<i title="全屏" class="w-icon-enlarge"></i>',e=!1,i=this.createBtn(t);this.toolbar.appendChild(i),i.addEventListener("click",function(n){A.editorEle.className=e?"":"fullscreen-editor",i.innerHTML=e?t:'<i title="全屏" class="w-icon-shrink"></i>',e=!e},!1)}}},clearStyle={methods:{initClearStyle:function(){var A=this,t=this.createBtn('<i title="一键过滤文字样式" class="w-icon-filter"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){var e=A.clearStyle();A.setContent(e),A.editor.txt.html(e)},!1)},clearStyle:function(){var A=this.textWrap.getElementsByTagName("*");return Array.from(A).map(function(A){A.style&&A.removeAttribute("style"),A.className&&A.removeAttribute("class")}),this.editor.txt.html().replace(/ style=\"(.*?)\"/gi,"").replace(/ style=\'(.*?)\'/gi,"").replace(/ class=\"(.*?)\"/gi,"").replace(/ class=\'(.*?)\'/gi,"").replace(/ lang=\"(.*?)\"/gi,"").replace(/ face=\"(.*?)\"/gi,"").replace(/ size=\"(.*?)\"/gi,"").replace(/ align=\"(.*?)\"/gi,"").replace(/ color=\"(.*?)\"/gi,"").replace(/ border=\"(.*?)\"/gi,"").replace(/<style>[\s\S]*?<\/style>/gi,"").replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/<!--[\s\S]*?-->/gi,"")}}},clearFormat={methods:{clearFormat:function(){return this.content_.split(/(<[^>]*>([\s\S]*?)|<[^>]*><\/[^>]*>)/).filter(function(A){return""!==A&&!A.includes("</")}).filter(function(A){return!A.includes("<")||A.startsWith("<img")}).map(function(A){return"<p>"+A+"</p>"}).join("")},initClearFormat:function(){var A=this,t=this.createBtn('<i title="一键清除文字格式" class="w-icon-clear-formatting"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){var e=A.clearFormat();A.setContent(e),A.editor.txt.html(e)},!1)}}},clearAll={methods:{initClearAll:function(){var A=this,t=this.createBtn('<i title="一键清空编辑器" class="w-icon-file-empty"></i>');this.toolbar.appendChild(t),t.addEventListener("click",function(t){A.clearAll()},!1)},clearAll:function(){this.editor.txt.clear(),this.setContent("<p><br></p>")}}},VueWangeditor$1={render:function(){var A=this.$createElement;return(this._self._c||A)("div",{attrs:{id:this.id}})},staticRenderFns:[],name:"VueWangeditor",mixins:[fullscreen,clearStyle,clearFormat,clearAll],props:{options:{type:Object,default:function(A){return{}}},id:String,value:String},data:function(){return{isInit:!1,editor:{},content_:"",text:""}},watch:{content_:function(A){this.$emit("input",A),this.text=this.editor.txt.text(),this.$emit("update:text",this.text)},value:function(A){this.isInit||(this.editor.txt.html(A),this.isInit=!0),this.content_=A}},computed:{editorEle:function(){if(document.querySelector("#"+this.id))return document.querySelector("#"+this.id)},toolbar:function(){if(document.querySelector("#"+this.id+" .w-e-toolbar"))return document.querySelector("#"+this.id+" .w-e-toolbar")},container:function(){if(document.querySelector("#"+this.id+" .w-e-text-container"))return document.querySelector("#"+this.id+" .w-e-text-container")},textWrap:function(){if(document.querySelector("#"+this.id+" .w-e-text"))return document.querySelector("#"+this.id+" .w-e-text")}},methods:{setContent:function(A){this.content_=A},createBtn:function(A){var t=document.createElement("div");return t.className="w-e-menu",t.style.zIndex="10001",t.innerHTML=A,t},initSize:function(){this.options.width&&(this.container.style.width=this.options.width,this.toolbar.style.width=this.options.width),this.options.height&&(this.container.style.height=this.options.height)}},mounted:function(){var A=this;this.editor=new E("#"+this.id),this.editor.customConfig.onchange=function(t){A.setContent(t)},Object.keys(this.options).map(function(t){A.editor.customConfig[t]=A.options[t]}),this.editor.create(),this.initSize(),this.options.menus.includes("clearStyle")&&this.initClearStyle(),this.options.menus.includes("clearFormat")&&this.initClearFormat(),this.options.menus.includes("clearAll")&&this.initClearAll(),this.options.menus.includes("fullscreen")&&this.initFullscreen()}};VueWangeditor$1.install=function(A){A.component(VueWangeditor$1.name,VueWangeditor$1)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(VueWangeditor$1),module.exports=VueWangeditor$1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnVlLXdhbmdlZGl0b3Itc2ltcGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcGx1Z2lucy9mdWxsc2NyZWVuLmpzIiwiLi4vc3JjL3BsdWdpbnMvY2xlYXJTdHlsZS5qcyIsIi4uL3NyYy9wbHVnaW5zL2NsZWFyRm9ybWF0LmpzIiwiLi4vc3JjL3BsdWdpbnMvY2xlYXJBbGwuanMiLCIuLi9zcmMvZWRpdG9yLnZ1ZSIsIi4uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZnVsbHNjcmVlbiA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRGdWxsc2NyZWVuICgpIHtcbiAgICAgIGxldCBlbmxhcmdlID0gJzxpIHRpdGxlPVwi5YWo5bGPXCIgY2xhc3M9XCJ3LWljb24tZW5sYXJnZVwiPjwvaT4nXG4gICAgICBsZXQgc2hyaW5rID0gJzxpIHRpdGxlPVwi5YWo5bGPXCIgY2xhc3M9XCJ3LWljb24tc2hyaW5rXCI+PC9pPidcbiAgICAgIGxldCBpc0Z1bGxzY3JlZW4gPSBmYWxzZVxuICAgICAgbGV0IGZ1bGxzY3JlZW5CdG4gPSB0aGlzLmNyZWF0ZUJ0bihlbmxhcmdlKVxuICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGZ1bGxzY3JlZW5CdG4pXG4gICAgICBmdWxsc2NyZWVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgIHRoaXMuZWRpdG9yRWxlLmNsYXNzTmFtZSA9IGlzRnVsbHNjcmVlbiA/ICcnIDogJ2Z1bGxzY3JlZW4tZWRpdG9yJ1xuICAgICAgICBmdWxsc2NyZWVuQnRuLmlubmVySFRNTCA9IGlzRnVsbHNjcmVlbiA/IGVubGFyZ2UgOiBzaHJpbmtcbiAgICAgICAgaXNGdWxsc2NyZWVuID0gIWlzRnVsbHNjcmVlblxuICAgICAgfSwgZmFsc2UpXG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgY2xlYXJTdHlsZSA9IHtcbiAgbWV0aG9kczoge1xuICAgIGluaXRDbGVhclN0eWxlICgpIHtcbiAgICAgIGxldCBjbGVhclN0eWxlQnRuID0gdGhpcy5jcmVhdGVCdG4oJzxpIHRpdGxlPVwi5LiA6ZSu6L+H5ruk5paH5a2X5qC35byPXCIgY2xhc3M9XCJ3LWljb24tZmlsdGVyXCI+PC9pPicpXG4gICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoY2xlYXJTdHlsZUJ0bilcbiAgICAgIGNsZWFyU3R5bGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfID0+IHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLmNsZWFyU3R5bGUoKVxuICAgICAgICB0aGlzLnNldENvbnRlbnQoaHRtbClcbiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwoaHRtbClcbiAgICAgIH0sIGZhbHNlKVxuICAgIH0sXG4gICAgY2xlYXJTdHlsZSAoKSB7XG4gICAgICAvLyBlZGl0b3IudHh0Lmh0bWwoKeiOt+WPlueahOWGheWuueaXoOazlea4hemZpDxzdHlsZT7moIfnrb7nmoTmoLflvI9cbiAgICAgIC8vIOaJgOS7peimgea4hemZpDxzdHlsZT7moIfnrb5cbiAgICAgIC8vIGVkaXRvci50eHQuaHRtbCgp5pyJ5pe25YCZ6I635Y+W55qESFRNTOS8muW4puagt+W8j++8jOaJgOS7pei/mOaYr+WGjei/h+a7pOS4gOasoVxuICAgICAgbGV0IGFyciA9IHRoaXMudGV4dFdyYXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKVxuICAgICAgQXJyYXkuZnJvbShhcnIpLm1hcChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uc3R5bGUpIHtcbiAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLmNsYXNzTmFtZSkge1xuICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAvLyDlm6DkuLrmnInnmoRzdHlsZeWxnuaAp+ayoeaciei/h+a7pOWIsO+8jOaJgOS7peimgeeUqOS4iumdoueahHJlbW92ZUF0dHJpYnV0ZeWOu+aOiVxuICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLnR4dC5odG1sKCkvLyB0ZXh0V3JhcC5pbm5lckhUTUxcbiAgICAgICAgICAgICAucmVwbGFjZSgvIHN0eWxlPVxcXCIoLio/KVxcXCIvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gc3R5bGU9XFwnKC4qPylcXCcvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gY2xhc3M9XFxcIiguKj8pXFxcIi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBjbGFzcz1cXCcoLio/KVxcJy9pZywgJycpXG4gICAgICAgICAgICAgLy8gd29yZOaWh+aho+WkjeWItui/h+adpeeahOagt+W8j1xuICAgICAgICAgICAgIC5yZXBsYWNlKC8gbGFuZz1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvIGZhY2U9XFxcIiguKj8pXFxcIi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBzaXplPVxcXCIoLio/KVxcXCIvaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8gYWxpZ249XFxcIiguKj8pXFxcIi9pZywgJycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyBjb2xvcj1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvIGJvcmRlcj1cXFwiKC4qPylcXFwiL2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvPHN0eWxlPltcXHNcXFNdKj88XFwvc3R5bGU+L2lnLCAnJylcbiAgICAgICAgICAgICAucmVwbGFjZSgvPG86cD5bXFxzXFxTXSo/PFxcL286cD4vaWcsICcnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC88IS0tW1xcc1xcU10qPy0tPi9pZywgJycpXG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgY2xlYXJGb3JtYXQgPSB7XG4gIG1ldGhvZHM6IHtcbiAgICBjbGVhckZvcm1hdCAoKSB7XG4gICAgICBsZXQgc3RyID0gdGhpcy5jb250ZW50X1xuICAgICAgbGV0IGFyciA9IHN0ci5zcGxpdCgvKDxbXj5dKj4oW1xcc1xcU10qPyl8PFtePl0qPjxcXC9bXj5dKj4pLylcblxuICAgICAgLy8g5Y676Zmk56m65a2X56ym5Liy77yM57uT5p2f5qCH562+XG4gICAgICBsZXQgbmV3Q29udGVudCA9IGFyci5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiAhaXRlbS5pbmNsdWRlcygnPC8nKVxuICAgICAgfSkuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAvLyDljrvmjonotbflp4vmoIfnrb5cbiAgICAgICAgcmV0dXJuICFpdGVtLmluY2x1ZGVzKCc8JykgfHwgaXRlbS5zdGFydHNXaXRoKCc8aW1nJylcbiAgICAgIH0pLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIGA8cD4ke2l0ZW19PC9wPmBcbiAgICAgIH0pLmpvaW4oJycpXG4gICAgICAvLyBjb25zb2xlLmxvZyhuZXdDb250ZW50KVxuICAgICAgcmV0dXJuIG5ld0NvbnRlbnRcbiAgICB9LFxuICAgIGluaXRDbGVhckZvcm1hdCAoKSB7XG4gICAgICBsZXQgY2xlYXJGb3JtYXRCdG4gPSB0aGlzLmNyZWF0ZUJ0bignPGkgdGl0bGU9XCLkuIDplK7muIXpmaTmloflrZfmoLzlvI9cIiBjbGFzcz1cInctaWNvbi1jbGVhci1mb3JtYXR0aW5nXCI+PC9pPicpXG4gICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoY2xlYXJGb3JtYXRCdG4pXG4gICAgICBjbGVhckZvcm1hdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8gPT4ge1xuICAgICAgICBsZXQgZm9ybWF0Q29udGVudCA9IHRoaXMuY2xlYXJGb3JtYXQoKVxuICAgICAgICB0aGlzLnNldENvbnRlbnQoZm9ybWF0Q29udGVudClcbiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwoZm9ybWF0Q29udGVudClcbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNsZWFyQWxsID0ge1xuICBtZXRob2RzOiB7XG4gICAgaW5pdENsZWFyQWxsICgpIHtcbiAgICAgIGxldCBjbGVhckFsbEJ0biA9IHRoaXMuY3JlYXRlQnRuKCc8aSB0aXRsZT1cIuS4gOmUrua4heepuue8lui+keWZqFwiIGNsYXNzPVwidy1pY29uLWZpbGUtZW1wdHlcIj48L2k+JylcbiAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjbGVhckFsbEJ0bilcbiAgICAgIGNsZWFyQWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJBbGwoKVxuICAgICAgfSwgZmFsc2UpXG4gICAgfSxcbiAgICBjbGVhckFsbCAoKSB7XG4gICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKVxuICAgICAgdGhpcy5zZXRDb250ZW50KCc8cD48YnI+PC9wPicpXG4gICAgfVxuICB9XG59XG4iLCI8dGVtcGxhdGUgbGFuZz1cImh0bWxcIj5cbiAgPGRpdiA6aWQ9XCJpZFwiPjwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBFIGZyb20gJ3dhbmdlZGl0b3InXG5pbXBvcnQgJy4vZWRpdG9yLmNzcydcbmltcG9ydCB7IGZ1bGxzY3JlZW4gfSBmcm9tICcuL3BsdWdpbnMvZnVsbHNjcmVlbidcbmltcG9ydCB7IGNsZWFyU3R5bGUgfSBmcm9tICcuL3BsdWdpbnMvY2xlYXJTdHlsZSdcbmltcG9ydCB7IGNsZWFyRm9ybWF0IH0gZnJvbSAnLi9wbHVnaW5zL2NsZWFyRm9ybWF0J1xuaW1wb3J0IHsgY2xlYXJBbGwgfSBmcm9tICcuL3BsdWdpbnMvY2xlYXJBbGwnXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdWdWVXYW5nZWRpdG9yJyxcbiAgbWl4aW5zOiBbZnVsbHNjcmVlbiwgY2xlYXJTdHlsZSwgY2xlYXJGb3JtYXQsIGNsZWFyQWxsXSxcbiAgcHJvcHM6IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiAgXyA9PiB7IHJldHVybiB7fSB9XG4gICAgfSxcbiAgICBpZDogU3RyaW5nLFxuICAgIHZhbHVlOiBTdHJpbmdcbiAgfSxcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSW5pdDogZmFsc2UsXG4gICAgICBlZGl0b3I6IHt9LFxuICAgICAgY29udGVudF86ICcnLFxuICAgICAgdGV4dDogJydcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgY29udGVudF8gKHZhbCkge1xuICAgICAgLy8gcmV0dXJuIHRoZSBjb250ZW50IHRvIHBhcmVudCBjb21wb25lbnRcbiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKVxuICAgICAgdGhpcy50ZXh0ID0gdGhpcy5lZGl0b3IudHh0LnRleHQoKVxuICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnRleHQnLCB0aGlzLnRleHQpXG4gICAgfSxcbiAgICB2YWx1ZSAodmFsKSB7XG4gICAgICBpZiAoIXRoaXMuaXNJbml0KSB7XG4gICAgICAgIC8vIGluaXQgY29udGVudF9cbiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwodmFsKVxuICAgICAgICB0aGlzLmlzSW5pdCA9IHRydWVcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udGVudF8gPSB2YWxcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZWRpdG9yRWxlICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfWApKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfWApXG4gICAgICB9XG4gICAgfSxcbiAgICB0b29sYmFyICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRvb2xiYXJgKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10b29sYmFyYClcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRhaW5lciAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10ZXh0LWNvbnRhaW5lcmApKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRleHQtY29udGFpbmVyYClcbiAgICAgIH1cbiAgICB9LFxuICAgIHRleHRXcmFwICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmlkfSAudy1lLXRleHRgKSkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5pZH0gLnctZS10ZXh0YClcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZXRDb250ZW50IChodG1sKSB7XG4gICAgICB0aGlzLmNvbnRlbnRfID0gaHRtbFxuICAgIH0sXG4gICAgY3JlYXRlQnRuIChidG5IdG1sKSB7XG4gICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIGJ0bi5jbGFzc05hbWUgPSAndy1lLW1lbnUnXG4gICAgICBidG4uc3R5bGUuekluZGV4ID0gJzEwMDAxJ1xuICAgICAgYnRuLmlubmVySFRNTCA9IGJ0bkh0bWxcbiAgICAgIHJldHVybiBidG5cbiAgICB9LFxuICAgIGluaXRTaXplICgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMud2lkdGgpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGhcbiAgICAgICAgdGhpcy50b29sYmFyLnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhlaWdodCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3VudGVkICgpIHtcbiAgICB0aGlzLmVkaXRvciA9IG5ldyBFKCcjJyArIHRoaXMuaWQpXG5cbiAgICAvLyBpbml0IGNoYW5nZSBldmVudFxuICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy5vbmNoYW5nZSA9IGh0bWwgPT4ge1xuICAgICAgdGhpcy5zZXRDb250ZW50KGh0bWwpXG4gICAgfVxuXG4gICAgLy8gaW5pdCBwcm9wcyBvcHRpb25zXG4gICAgT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5tYXAocHJvcGVydHkgPT4ge1xuICAgICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnW3Byb3BlcnR5XSA9IHRoaXMub3B0aW9uc1twcm9wZXJ0eV1cbiAgICB9KVxuXG4gICAgLy8gY3JlYXRlIHRoZSBlZGl0b3JcbiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKVxuXG4gICAgdGhpcy5pbml0U2l6ZSgpXG5cbiAgICAvLyBjbGVhclN0eWxlXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tZW51cy5pbmNsdWRlcygnY2xlYXJTdHlsZScpKSB7XG4gICAgICB0aGlzLmluaXRDbGVhclN0eWxlKClcbiAgICB9XG5cbiAgICAvLyBjbGVhckZvcm1hdFxuICAgIGlmICh0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2NsZWFyRm9ybWF0JykpIHtcbiAgICAgIHRoaXMuaW5pdENsZWFyRm9ybWF0KClcbiAgICB9XG5cbiAgICAvLyBjbGVhckFsbFxuICAgIGlmICh0aGlzLm9wdGlvbnMubWVudXMuaW5jbHVkZXMoJ2NsZWFyQWxsJykpIHtcbiAgICAgIHRoaXMuaW5pdENsZWFyQWxsKClcbiAgICB9XG5cbiAgICAvLyBmdWxsc2NyZWVuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tZW51cy5pbmNsdWRlcygnZnVsbHNjcmVlbicpKSB7XG4gICAgICB0aGlzLmluaXRGdWxsc2NyZWVuKClcbiAgICB9XG5cbiAgfVxufVxuPC9zY3JpcHQ+XG4iLCJpbXBvcnQgVnVlV2FuZ2VkaXRvciBmcm9tICcuL2VkaXRvci52dWUnXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5WdWVXYW5nZWRpdG9yLmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlKSB7XG4gIFZ1ZS5jb21wb25lbnQoVnVlV2FuZ2VkaXRvci5uYW1lLCBWdWVXYW5nZWRpdG9yKVxufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcbiAgd2luZG93LlZ1ZS51c2UoVnVlV2FuZ2VkaXRvcilcbn1cblxuZXhwb3J0IGRlZmF1bHQgVnVlV2FuZ2VkaXRvclxuIl0sIm5hbWVzIjpbImVubGFyZ2UiLCJpc0Z1bGxzY3JlZW4iLCJmdWxsc2NyZWVuQnRuIiwidGhpcyIsImNyZWF0ZUJ0biIsInRvb2xiYXIiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlZGl0b3JFbGUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJjbGVhclN0eWxlIiwiY2xlYXJTdHlsZUJ0biIsImh0bWwiLCJfdGhpcyIsInNldENvbnRlbnQiLCJlZGl0b3IiLCJ0eHQiLCJhcnIiLCJ0ZXh0V3JhcCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZnJvbSIsIm1hcCIsIml0ZW0iLCJzdHlsZSIsInJlbW92ZUF0dHJpYnV0ZSIsInJlcGxhY2UiLCJjbGVhckZvcm1hdCIsImNvbnRlbnRfIiwic3BsaXQiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInN0YXJ0c1dpdGgiLCJqb2luIiwiY2xlYXJGb3JtYXRCdG4iLCJmb3JtYXRDb250ZW50IiwiY2xlYXJBbGwiLCJjbGVhckFsbEJ0biIsImNsZWFyIiwicmVuZGVyIiwiZnVsbHNjcmVlbiIsIk9iamVjdCIsIlN0cmluZyIsInZhbCIsIiRlbWl0IiwidGV4dCIsImlzSW5pdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiYnRuSHRtbCIsImJ0biIsImNyZWF0ZUVsZW1lbnQiLCJ6SW5kZXgiLCJvcHRpb25zIiwid2lkdGgiLCJjb250YWluZXIiLCJoZWlnaHQiLCJFIiwiY3VzdG9tQ29uZmlnIiwib25jaGFuZ2UiLCJrZXlzIiwicHJvcGVydHkiLCJjcmVhdGUiLCJpbml0U2l6ZSIsIm1lbnVzIiwiaW5pdENsZWFyU3R5bGUiLCJpbml0Q2xlYXJGb3JtYXQiLCJpbml0Q2xlYXJBbGwiLCJpbml0RnVsbHNjcmVlbiIsIlZ1ZVdhbmdlZGl0b3IiLCJpbnN0YWxsIiwiVnVlIiwiY29tcG9uZW50IiwibmFtZSIsIndpbmRvdyIsInVzZSJdLCJtYXBwaW5ncyI6Im91TUFHVUEsRUFBVSw0Q0FFVkMsR0FBZSxFQUNmQyxFQUFnQkMsS0FBS0MsVUFBVUosUUFDOUJLLFFBQVFDLFlBQVlKLEtBQ1hLLGlCQUFpQixRQUFTLGNBQ2pDQyxVQUFVQyxVQUFZUixFQUFlLEdBQUssc0JBQ2pDUyxVQUFZVCxFQUFlRCxFQU45Qiw4Q0FPS0MsSUFDZixNQ1pJVSwwREFHSEMsRUFBZ0JULEtBQUtDLFVBQVUsdURBQzlCQyxRQUFRQyxZQUFZTSxLQUNYTCxpQkFBaUIsUUFBUyxnQkFDbENNLEVBQU9DLEVBQUtILGVBQ1hJLFdBQVdGLEtBQ1hHLE9BQU9DLElBQUlKLEtBQUtBLEtBQ3BCLDhCQU1DSyxFQUFNZixLQUFLZ0IsU0FBU0MscUJBQXFCLGtCQUN2Q0MsS0FBS0gsR0FBS0ksSUFBSSxZQUNkQyxFQUFLQyxTQUNGQyxnQkFBZ0IsU0FFbkJGLEVBQUtkLGFBQ0ZnQixnQkFBZ0IsV0FJbEJ0QixLQUFLYSxPQUFPQyxJQUFJSixPQUNmYSxRQUFRLHFCQUFzQixJQUM5QkEsUUFBUSxxQkFBc0IsSUFDOUJBLFFBQVEscUJBQXNCLElBQzlCQSxRQUFRLHFCQUFzQixJQUU5QkEsUUFBUSxvQkFBcUIsSUFDN0JBLFFBQVEsb0JBQXFCLElBQzdCQSxRQUFRLG9CQUFxQixJQUM3QkEsUUFBUSxxQkFBc0IsSUFDOUJB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
